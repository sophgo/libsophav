#ifndef __U_VI_ISP_H__
#define __U_VI_ISP_H__

#include <linux/vi_snsr.h>
#include <linux/cvi_defines.h>

enum ISP_SCENE_INFO {
	PRE_OFF_POST_OFF_SC,      //183x
	PRE_OFF_POST_ON_SC,       //183x
	FE_ON_BE_ON_POST_OFF_SC,  //182x
	FE_ON_BE_ON_POST_ON_SC,   //182x
	FE_ON_BE_OFF_POST_OFF_SC, //182x
	FE_ON_BE_OFF_POST_ON_SC,  //182x
	FE_OFF_BE_ON_POST_OFF_SC, //182x
	FE_OFF_BE_ON_POST_ON_SC,  //182x
};

enum cvi_isp_source {
	CVI_ISP_SOURCE_DEV = 0,
	CVI_ISP_SOURCE_FE,
	CVI_ISP_SOURCE_BE,
	CVI_ISP_SOURCE_MAX,
};

enum IP_INFO_GRP {
	IP_INFO_ID_PRE_RAW_FE0 = 0,
	IP_INFO_ID_CSIBDG0,
	IP_INFO_ID_DMA_CTL_CSI0_BDG0,
	IP_INFO_ID_DMA_CTL_CSI0_BDG1,
	IP_INFO_ID_DMA_CTL_CSI0_BDG2,
	IP_INFO_ID_DMA_CTL_CSI0_BDG3,
	IP_INFO_ID_PRE_RAW_FE0_BLC0,
	IP_INFO_ID_PRE_RAW_FE0_BLC1,
	IP_INFO_ID_RGBMAP_FE0_LE,
	IP_INFO_ID_RGBMAP_WBG0,
	IP_INFO_ID_DMA_CTL_FE0_RGBMAP_LE,
	IP_INFO_ID_RGBMAP_FE0_SE,
	IP_INFO_ID_RGBMAP_WBG1,
	IP_INFO_ID_DMA_CTL_FE0_RGBMAP_SE,

	IP_INFO_ID_PRE_RAW_FE1,
	IP_INFO_ID_CSIBDG1,
	IP_INFO_ID_DMA_CTL_CSI1_BDG0,
	IP_INFO_ID_DMA_CTL_CSI1_BDG1,
	IP_INFO_ID_DMA_CTL_CSI1_BDG2,
	IP_INFO_ID_DMA_CTL_CSI1_BDG3,
	IP_INFO_ID_PRE_RAW_FE1_BLC0,
	IP_INFO_ID_PRE_RAW_FE1_BLC1,
	IP_INFO_ID_RGBMAP_FE1_LE,
	IP_INFO_ID_RGBMAP_WBG2,
	IP_INFO_ID_DMA_CTL_FE1_RGBMAP_LE,
	IP_INFO_ID_RGBMAP_FE1_SE,
	IP_INFO_ID_RGBMAP_WBG3,
	IP_INFO_ID_DMA_CTL_FE1_RGBMAP_SE,

	IP_INFO_ID_PRE_RAW_FE2,
	IP_INFO_ID_CSIBDG2,
	IP_INFO_ID_DMA_CTL_CSI2_BDG0,
	IP_INFO_ID_DMA_CTL_CSI2_BDG1,
	IP_INFO_ID_PRE_RAW_FE2_BLC0,
	IP_INFO_ID_PRE_RAW_FE2_BLC1,
	IP_INFO_ID_RGBMAP_FE2_LE,
	IP_INFO_ID_RGBMAP_WBG4,
	IP_INFO_ID_DMA_CTL_FE2_RGBMAP_LE,
	IP_INFO_ID_RGBMAP_FE2_SE,
	IP_INFO_ID_RGBMAP_WBG5,
	IP_INFO_ID_DMA_CTL_FE2_RGBMAP_SE,

	IP_INFO_ID_PRE_RAW_FE3,
	IP_INFO_ID_CSIBDG3,
	IP_INFO_ID_DMA_CTL_CSI3_BDG0,
	IP_INFO_ID_DMA_CTL_CSI3_BDG1,
	IP_INFO_ID_PRE_RAW_FE3_BLC0,
	IP_INFO_ID_PRE_RAW_FE3_BLC1,
	IP_INFO_ID_RGBMAP_FE3_LE,
	IP_INFO_ID_RGBMAP_WBG6,
	IP_INFO_ID_DMA_CTL_FE3_RGBMAP_LE,
	IP_INFO_ID_RGBMAP_FE3_SE,
	IP_INFO_ID_RGBMAP_WBG7,
	IP_INFO_ID_DMA_CTL_FE3_RGBMAP_SE,

	IP_INFO_ID_PRE_RAW_FE4,
	IP_INFO_ID_CSIBDG4,
	IP_INFO_ID_DMA_CTL_CSI4_BDG0,
	IP_INFO_ID_DMA_CTL_CSI4_BDG1,
	IP_INFO_ID_PRE_RAW_FE4_BLC0,
	IP_INFO_ID_PRE_RAW_FE4_BLC1,
	IP_INFO_ID_RGBMAP_FE4_LE,
	IP_INFO_ID_RGBMAP_WBG8,
	IP_INFO_ID_DMA_CTL_FE4_RGBMAP_LE,
	IP_INFO_ID_RGBMAP_FE4_SE,
	IP_INFO_ID_RGBMAP_WBG9,
	IP_INFO_ID_DMA_CTL_FE4_RGBMAP_SE,

	IP_INFO_ID_PRE_RAW_FE5,
	IP_INFO_ID_CSIBDG5,
	IP_INFO_ID_DMA_CTL_CSI5_BDG0,
	IP_INFO_ID_DMA_CTL_CSI5_BDG1,
	IP_INFO_ID_PRE_RAW_FE5_BLC0,
	IP_INFO_ID_PRE_RAW_FE5_BLC1,
	IP_INFO_ID_RGBMAP_FE5_LE,
	IP_INFO_ID_RGBMAP_WBG10,
	IP_INFO_ID_DMA_CTL_FE5_RGBMAP_LE,
	IP_INFO_ID_RGBMAP_FE5_SE,
	IP_INFO_ID_RGBMAP_WBG11,
	IP_INFO_ID_DMA_CTL_FE5_RGBMAP_SE,

	IP_INFO_ID_PRE_RAW_BE,
	IP_INFO_ID_BE_CROP_LE,
	IP_INFO_ID_BE_CROP_SE,
	IP_INFO_ID_PRE_RAW_BE_BLC0,
	IP_INFO_ID_PRE_RAW_BE_BLC1,
	IP_INFO_ID_AF,
	IP_INFO_ID_DMA_CTL_AF_W,
	IP_INFO_ID_DPC0,
	IP_INFO_ID_DMA_CTL_PRE_RAW_BE_LE,
	IP_INFO_ID_DMA_CTL_PRE_RAW_BE_SE,
	IP_INFO_ID_PRE_WDMA,
	// IP_INFO_ID_PCHK0,
	// IP_INFO_ID_PCHK1,
	IP_INFO_ID_RGBIR0,
	IP_INFO_ID_DMA_CTL_RGBIR_LE,
	IP_INFO_ID_DPC1,
	IP_INFO_ID_RGBIR1,
	IP_INFO_ID_DMA_CTL_RGBIR_SE,

	IP_INFO_ID_WDMA_CORE0,
	IP_INFO_ID_WDMA_CORE1,
	IP_INFO_ID_WDMA_CORE2,
	IP_INFO_ID_WDMA_CORE3,

	IP_INFO_ID_DMA_CTL_SPLT_FE0_WDMA_LE,
	IP_INFO_ID_DMA_CTL_SPLT_FE0_WDMA_SE,
	IP_INFO_ID_SPLT_FE0_WDMA,
	IP_INFO_ID_DMA_CTL_SPLT_FE0_RDMA_LE,
	IP_INFO_ID_SPLT_FE0_RDMA_LE,
	IP_INFO_ID_DMA_CTL_SPLT_FE0_RDMA_SE,
	IP_INFO_ID_SPLT_FE0_RDMA_SE,
	IP_INFO_ID_DMA_CTL_SPLT_FE1_WDMA_LE,
	IP_INFO_ID_DMA_CTL_SPLT_FE1_WDMA_SE,
	IP_INFO_ID_SPLT_FE1_WDMA,
	IP_INFO_ID_DMA_CTL_SPLT_FE1_RDMA_LE,
	IP_INFO_ID_SPLT_FE1_RDMA_LE,
	IP_INFO_ID_DMA_CTL_SPLT_FE1_RDMA_SE,
	IP_INFO_ID_SPLT_FE1_RDMA_SE,
	IP_INFO_ID_SPLT,

	IP_INFO_ID_RAWTOP,
	IP_INFO_ID_CFA0,
	IP_INFO_ID_LSC0,
	IP_INFO_ID_DMA_CTL_LSC_LE,
	IP_INFO_ID_GMS,
	IP_INFO_ID_DMA_CTL_GMS,
	IP_INFO_ID_AE_HIST0,
	IP_INFO_ID_DMA_CTL_AE_HIST_LE,
	IP_INFO_ID_AE_HIST1,
	IP_INFO_ID_DMA_CTL_AE_HIST_SE,
	IP_INFO_ID_DMA_CTL_RAW_RDMA0,
	IP_INFO_ID_RAW_RDMA0,
	IP_INFO_ID_DMA_CTL_RAW_RDMA1,
	IP_INFO_ID_RAW_RDMA1,
	IP_INFO_ID_CFA1,
	IP_INFO_ID_LSC1,
	IP_INFO_ID_DMA_CTL_LSC_SE,
	IP_INFO_ID_LMAP1,
	IP_INFO_ID_DMA_CTL_LMAP_SE,
	IP_INFO_ID_BNR0,
	IP_INFO_ID_BNR1,
	IP_INFO_ID_RAW_CROP_LE,
	IP_INFO_ID_RAW_CROP_SE,
	IP_INFO_ID_LMAP0,
	IP_INFO_ID_DMA_CTL_LMAP_LE,
	IP_INFO_ID_RAW_WBG0,
	IP_INFO_ID_RAW_WBG1,
	// IP_INFO_ID_PCHK2,
	// IP_INFO_ID_PCHK3,
	IP_INFO_ID_LCAC0,
	IP_INFO_ID_RGBCAC0,
	IP_INFO_ID_LCAC1,
	IP_INFO_ID_RGBCAC1,

	IP_INFO_ID_RGBTOP,
	IP_INFO_ID_CCM0,
	IP_INFO_ID_CCM1,
	IP_INFO_ID_RGBGAMMA,
	IP_INFO_ID_YGAMMA,
	IP_INFO_ID_MMAP,
	IP_INFO_ID_DMA_CTL_MMAP_PRE_LE_R,
	IP_INFO_ID_DMA_CTL_MMAP_PRE_SE_R,
	IP_INFO_ID_DMA_CTL_MMAP_CUR_LE_R,
	IP_INFO_ID_DMA_CTL_MMAP_CUR_SE_R,
	IP_INFO_ID_DMA_CTL_MMAP_IIR_R,
	IP_INFO_ID_DMA_CTL_MMAP_IIR_W,
	IP_INFO_ID_DMA_CTL_MMAP_AI_ISP,
	IP_INFO_ID_CLUT,
	IP_INFO_ID_DEHAZE,
	IP_INFO_ID_CSC,
	IP_INFO_ID_RGB_DITHER,
	// IP_INFO_ID_PCHK4,
	// IP_INFO_ID_PCHK5,
	IP_INFO_ID_HIST_EDGE_V,
	IP_INFO_ID_DMA_CTL_HIST_EDGE_V,
	IP_INFO_ID_FUSION,
	IP_INFO_ID_LTM,
	IP_INFO_ID_DMA_CTL_LTM_LE,
	IP_INFO_ID_DMA_CTL_LTM_SE,

	IP_INFO_ID_YUVTOP,
	IP_INFO_ID_TNR,
	IP_INFO_ID_DMA_CTL_TNR_ST_MO,
	IP_INFO_ID_DMA_CTL_TNR_LD_MO,
	IP_INFO_ID_DMA_CTL_TNR_ST_Y,
	IP_INFO_ID_DMA_CTL_TNR_ST_C,
	IP_INFO_ID_FBCE,
	IP_INFO_ID_DMA_CTL_TNR_LD_Y,
	IP_INFO_ID_DMA_CTL_TNR_LD_C,
	IP_INFO_ID_FBCD,
	IP_INFO_ID_YUV_DITHER,
	IP_INFO_ID_CA,
	IP_INFO_ID_CA_LITE,
	IP_INFO_ID_YNR,
	IP_INFO_ID_CNR,
	IP_INFO_ID_EE_POST,
	IP_INFO_ID_YCURVE,
	IP_INFO_ID_DCI,
	IP_INFO_ID_DMA_CTL_DCI,
	IP_INFO_ID_DCI_GAMMA,
	IP_INFO_ID_YUV_CROP_Y,
	IP_INFO_ID_DMA_CTL_YUV_CROP_Y,
	IP_INFO_ID_YUV_CROP_C,
	IP_INFO_ID_DMA_CTL_YUV_CROP_C,
	IP_INFO_ID_LDCI,
	IP_INFO_ID_DMA_CTL_LDCI_W,
	IP_INFO_ID_DMA_CTL_LDCI_R,
	IP_INFO_ID_EE_PRE,
	IP_INFO_ID_DMA_CTL_AI_ISP_RDMA_Y,
	IP_INFO_ID_DMA_CTL_AI_ISP_RDMA_U,
	IP_INFO_ID_DMA_CTL_AI_ISP_RDMA_V,

	IP_INFO_ID_ISPTOP,
	IP_INFO_ID_RDMA_CORE0,
	IP_INFO_ID_RDMA_CORE1,
	IP_INFO_ID_CSIBDG0_LITE,
	IP_INFO_ID_DMA_CTL_BT0_LITE0,
	IP_INFO_ID_DMA_CTL_BT0_LITE1,
	IP_INFO_ID_DMA_CTL_BT0_LITE2,
	IP_INFO_ID_DMA_CTL_BT0_LITE3,
	IP_INFO_ID_CSIBDG1_LITE,
	IP_INFO_ID_DMA_CTL_BT1_LITE0,
	IP_INFO_ID_DMA_CTL_BT1_LITE1,
	IP_INFO_ID_DMA_CTL_BT1_LITE2,
	IP_INFO_ID_DMA_CTL_BT1_LITE3,
	IP_INFO_ID_PRE_RAW_VI_SEL,
	IP_INFO_ID_DMA_CTL_PRE_RAW_VI_SEL_LE,
	IP_INFO_ID_DMA_CTL_PRE_RAW_VI_SEL_SE,
	// IP_INFO_ID_CMDQ,

	IP_INFO_ID_MAX,
};

struct ip_info {
	__u32 str_addr; //IP start address
	__u32 size; //IP total registers size
};

/* struct cvi_vip_memblock
 * @base: the address of the memory allocated.
 * @size: Size in bytes of the memblock.
 */
struct cvi_vip_memblock {
	__u8  raw_num;
	__u64 phy_addr;
	void *vir_addr;
#ifdef __arm__
	__u32 padding;
#endif
	__u32 size;
};

struct cvi_vip_isp_raw_blk {
	struct cvi_vip_memblock raw_dump;
	__u32 frm_num;
	__u32 time_out;//msec
	__u16 src_w;
	__u16 src_h;
	__u16 crop_x;
	__u16 crop_y;
	__u8  is_b_not_rls;
	__u8  is_timeout;
	__u8  is_sig_int;
};

struct cvi_vip_isp_smooth_raw_param {
	struct cvi_vip_isp_raw_blk *raw_blk;
	__u8 raw_num;
	__u8 frm_num;
};

struct cvi_isp_sts_mem {
	__u8			raw_num;
	struct cvi_vip_memblock af;
	struct cvi_vip_memblock gms;
	struct cvi_vip_memblock ae_le;
	struct cvi_vip_memblock ae_se;
	struct cvi_vip_memblock awb;
	struct cvi_vip_memblock awb_post;
	struct cvi_vip_memblock dci;
	struct cvi_vip_memblock hist_edge_v;
	struct cvi_vip_memblock mmap;
};

struct cvi_isp_mbus_framefmt {
	__u32	width;
	__u32	height;
	__u32	code;
};

struct cvi_isp_rect {
	__s32	left;
	__s32	top;
	__u32	width;
	__u32	height;
};

struct cvi_isp_usr_pic_cfg {
	struct cvi_isp_mbus_framefmt fmt;
	struct cvi_isp_rect crop;
};

struct cvi_isp_snr_info {
	__u8   raw_num;
	__u16  color_mode;
	__u32  pixel_rate;
	struct wdr_size_s snr_fmt;
};

struct cvi_isp_snr_update {
	__u8  raw_num;
	struct snsr_cfg_node_s snr_cfg_node;
};

struct cvi_vip_isp_yuv_param {
	__u8   raw_num;
	__u32  yuv_bypass_path;
};

struct cvi_isp_mmap_grid_size {
	__u8  raw_num;
	__u8  grid_size;
};

struct isp_proc_cfg {
	void *buffer;
#ifdef __arm__
	__u32 padding;
#endif
	size_t buffer_size;
};

struct cvi_vip_isp_awb_sts {
	__u8  raw_num;
	__u8  is_se;
	__u8  buf_idx;
};

struct cvi_vi_dma_buf_info {
	__u64  paddr;
	__u32  size;
};

struct cvi_isp_sc_online {
	__u8   raw_num;
	__u8   is_sc_online;
};

#endif // __U_VI_ISP_H__
